import{o as b,s as y,_ as g,a as h,b as V}from"./57gNJqSD.js";import{f as w,ao as C,r as m,ap as k,c as T,a as d,b as s,w as c,a3 as a,o as U,ar as B,d as E,aE as F,aw as q}from"./Br8VrkWY.js";const N={class:"full-page-container"},z={"data-aos":"fade-in-up",class:"full-page-card w-[450px] !px-8"},D=w({__name:"activation",setup(A){const p=C(),i=m(null),n=m(!1),r=k({code:void 0}),f=b({code:y({required_error:"Code is required"}).length(8,"Code must be 8 characters")});function l(u){let e=u.data;e&&(n.value=!0,F({code:e.code}).then(t=>{var o;if((t==null?void 0:t.status)==="success")(o=i.value)==null||o.clear(),q("/notification/activation/success",{replace:!0});else throw new Error(t.message||"Failed to verify code")}).catch(t=>{var o;console.error(t),(o=i.value)==null||o.setErrors([{message:t.message,path:"code"}]),p.add({icon:"i-ri-error-warning-fill",title:"Failed to verify code",description:t.message,color:"red"})}).finally(()=>{n.value=!1}))}return(u,e)=>{const t=V,o=h,_=B,v=g;return U(),T("div",N,[d("div",z,[e[2]||(e[2]=d("h3",{class:"text-center font-bold text-[20px]"}," Verify Activation Code ",-1)),e[3]||(e[3]=d("p",{class:"text-center text-[16px] mt-[10px]"}," Please enter the activation code you received ",-1)),s(v,{ref_key:"formRef",ref:i,state:a(r),schema:a(f),class:"mt-[20px] space-y-4",onSubmit:l},{default:c(()=>[s(o,{required:"",name:"code"},{default:c(()=>[s(t,{modelValue:a(r).code,"onUpdate:modelValue":e[0]||(e[0]=x=>a(r).code=x),type:"code",disabled:a(n),placeholder:"Activation code",size:"md"},null,8,["modelValue","disabled"])]),_:1}),s(o,null,{default:c(()=>[s(_,{size:"md",disabled:a(n),block:"",type:"submit",onClick:l},{default:c(()=>e[1]||(e[1]=[E(" Verify ")])),_:1},8,["disabled"])]),_:1})]),_:1},8,["state","schema"])])])}}});export{D as default};
