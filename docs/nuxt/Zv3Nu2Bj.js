import{o as b,s as y,_ as g,a as h,b as V}from"./BwCSfl2C.js";import{f as w,ao as C,r as m,ap as k,c as T,a as i,b as a,w as n,a3 as o,o as U,ar as B,d as E,aE as F,aw as q}from"./73cGwL6I.js";const N={class:"full-page-container"},z={"data-aos":"fade-in-up",class:"full-page-card w-[450px] !px-8"},D=w({__name:"activation",setup(A){const p=C(),c=m(null),s=m(!1),r=k({code:void 0}),f=b({code:y({required_error:"Code is required"}).length(8,"Code must be 8 characters")});function d(l){let e=l.data;e&&(s.value=!0,F({code:e.code}).then(t=>{if(t?.status==="success")c.value?.clear(),q("/notification/activation/success",{replace:!0});else throw new Error(t.message||"Failed to verify code")}).catch(t=>{console.error(t),c.value?.setErrors([{message:t.message,path:"code"}]),p.add({icon:"i-ri-error-warning-fill",title:"Failed to verify code",description:t.message,color:"red"})}).finally(()=>{s.value=!1}))}return(l,e)=>{const t=V,u=h,_=B,v=g;return U(),T("div",N,[i("div",z,[e[2]||(e[2]=i("h3",{class:"text-center font-bold text-[20px]"}," Verify Activation Code ",-1)),e[3]||(e[3]=i("p",{class:"text-center text-[16px] mt-[10px]"}," Please enter the activation code you received ",-1)),a(v,{ref_key:"formRef",ref:c,state:o(r),schema:o(f),class:"mt-[20px] space-y-4",onSubmit:d},{default:n(()=>[a(u,{required:"",name:"code"},{default:n(()=>[a(t,{modelValue:o(r).code,"onUpdate:modelValue":e[0]||(e[0]=x=>o(r).code=x),type:"code",disabled:o(s),placeholder:"Activation code",size:"md"},null,8,["modelValue","disabled"])]),_:1}),a(u,null,{default:n(()=>[a(_,{size:"md",disabled:o(s),block:"",type:"submit",onClick:d},{default:n(()=>[...e[1]||(e[1]=[E(" Verify ",-1)])]),_:1},8,["disabled"])]),_:1})]),_:1},8,["state","schema"])])])}}});export{D as default};
